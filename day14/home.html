<!-- Copy from here for every page -->
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Droid+Sans|Titillium+Web|Fira+Sans|Catamaran' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Candal' rel='stylesheet' type='text/css'>

    <title>Luck on the slot?</title>
</head>
<body>
    <div id="header-container">
        <div><a href="../index.html" target="_blank">home</a></div>
        <div>|</div>
        <div><a href="https://100daysofprogramming.wordpress.com/" target="_blank">blog</a></div>
    </div>
<!-- Until here -->
    <div id="container">
        <h1>Try your luck!</h1>
        <div id="slot-container">
            <div id="image-left" class="slot"></div>
            <div id="image-middle" class="slot"></div>
            <div id="image-right" class="slot"></div>
        </div>
        <button>Start the slot!</button>
    </div>
<script>
var lock = false;

    $('button').on('click', function() {

        if (lock === true) {
            return;
        }

        lock = true;

        $('h1').html('Try your luck!')

    var imageArray = [
        'cigar.png',
        'diamond.png',
        'grapes.png',
        'medal.png',
        'strawberry.png',
        'watermelon.png'
    ];

    function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min)) + min;
    }

    var stop = false;

    function changeToRandom () {
        var randomImageLeft = getRandomInt(0, imageArray.length);
        var randomImageMiddle = getRandomInt(0, imageArray.length);
        var randomImageRight = getRandomInt(0, imageArray.length);

        $('#image-left').css('background-image', 'url(' + imageArray[randomImageLeft] + ')');
        $('#image-middle').css('background-image', 'url(' + imageArray[randomImageMiddle] + ')');
        $('#image-right').css('background-image', 'url(' + imageArray[randomImageRight] + ')');

        if (stop === false) {
            setTimeout(changeToRandom, 100);
        } else {
            lock = false;

            if(randomImageLeft === randomImageMiddle && randomImageMiddle === randomImageRight) {
                $('h1').html('Congratulations, you get a { virtual hug }!')
            }
        }
    }
    changeToRandom();

    setTimeout(function() {stop = true;}, 1000);
    })
</script>
</body>
</html>
